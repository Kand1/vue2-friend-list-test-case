(function(){"use strict";var t={818:function(t,n,e){var i=e(144),r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"mainframe"},[e("FriendsList",{attrs:{listId:0,listName:"FRIEND LIST",buttonName:"login in",friendsList:t.friendsList.filter((function(t){return!t.listId}))},on:{login:t.loginIn,drop:t.onDrop}}),e("FriendsList",{attrs:{listId:1,listName:"SELECTED LIST",buttonName:"export to console",friendsList:t.friendsList.filter((function(t){return t.listId}))},on:{drop:t.onDrop}})],1)])},o=[],s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"frame"},[e("div",{staticClass:"header"},[e("div",[t._v(" "+t._s(t.listName)+" ")])]),e("div",{staticClass:"list",on:{drop:function(n){return t.onDrop(n,t.listId)},dragover:function(t){t.preventDefault()},dragenter:function(t){t.preventDefault()}}},t._l(t.friendsList,(function(n){return e("div",{attrs:{draggable:"true"},on:{dragstart:function(e){return t.onDragStart(e,n)}}},[e("FriendItem",{attrs:{friend:n}})],1)})),0),e("div",{staticClass:"footer"},[e("button",{on:{click:t.buttonClick}},[t._v(" "+t._s(t.buttonName)+" ")])])])},a=[],u=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.friend?e("div",{staticClass:"item"},[e("a",{staticClass:"photo",attrs:{href:"https://vk.com/id"+t.friend.id}},[e("img",{attrs:{src:t.friend.photo}})]),e("div",{staticClass:"name"},[e("a",{attrs:{href:"https://vk.com/id"+t.friend.id}},[t._v(" "+t._s(t.friend.name)+" ")])])]):t._e()},d=[],c={props:{friend:{}}},f=c,l=e(1),p=(0,l.Z)(f,u,d,!1,null,"11d5ab70",null),m=p.exports,h={props:{listId:Number,listName:String,buttonName:String,friendsList:Array},components:{FriendItem:m},methods:{buttonClick(){"export to console"===this.buttonName&&console.log(this.friendsList.map((t=>t.name))),"login in"===this.buttonName&&this.$emit("login")},onDragStart(t,n){t.dataTransfer.dropEffect="move",t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("itemId",n.id.toString())},onDrop(t,n){const e=parseInt(t.dataTransfer.getData("itemId"));this.$emit("drop",e,n)}}},v=h,_=(0,l.Z)(v,s,a,!1,null,"044b4872",null),g=_.exports,b=e(755),I=e.n(b);let L=I();var k={name:"App",components:{FriendsList:g},data(){return{friendsList:[]}},mounted(){this.apiLoginIn()},methods:{loginIn(){this.apiLoginIn()&&(window.location.href="https://oauth.vk.com/authorize?client_id=8137408&display=page&redirect_uri=https://kand1.github.io/vue2-friend-list-test-case/&scope=friends,photos&response_type=token&v=5.81")},onDrop(t,n){this.friendsList=this.friendsList.map((e=>(e.id===t&&(e.listId=n),e)))},apiLoginIn(){let t=window.location.hash.substr(1),n=t.split("&").reduce((function(t,n){let e=n.split("=");return t[e[0]]=e[1],t}),{});if(!n["access_token"])return 1;if(n["access_token"]){let t=n["access_token"];return L.ajax({url:"https://api.vk.com/method/friends.search?fields=photo_50&count=1000&access_token="+t+"&v=5.81",method:"GET",dataType:"JSONP",success:t=>{this.friendsList=t.response.items.map((t=>({id:t.id,name:t.first_name+" "+t.last_name,photo:t.photo_50})))}}),0}}}},w=k,C=(0,l.Z)(w,r,o,!1,null,"76055b5d",null),D=C.exports;i.Z.config.productionTip=!1,new i.Z({render:t=>t(D)}).$mount("#app")}},n={};function e(i){var r=n[i];if(void 0!==r)return r.exports;var o=n[i]={exports:{}};return t[i].call(o.exports,o,o.exports,e),o.exports}e.m=t,function(){var t=[];e.O=function(n,i,r,o){if(!i){var s=1/0;for(c=0;c<t.length;c++){i=t[c][0],r=t[c][1],o=t[c][2];for(var a=!0,u=0;u<i.length;u++)(!1&o||s>=o)&&Object.keys(e.O).every((function(t){return e.O[t](i[u])}))?i.splice(u--,1):(a=!1,o<s&&(s=o));if(a){t.splice(c--,1);var d=r();void 0!==d&&(n=d)}}return n}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[i,r,o]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={143:0};e.O.j=function(n){return 0===t[n]};var n=function(n,i){var r,o,s=i[0],a=i[1],u=i[2],d=0;if(s.some((function(n){return 0!==t[n]}))){for(r in a)e.o(a,r)&&(e.m[r]=a[r]);if(u)var c=u(e)}for(n&&n(i);d<s.length;d++)o=s[d],e.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return e.O(c)},i=self["webpackChunkvue2_friend_list_test_case"]=self["webpackChunkvue2_friend_list_test_case"]||[];i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i))}();var i=e.O(void 0,[998],(function(){return e(818)}));i=e.O(i)})();
//# sourceMappingURL=app.10945c1d.js.map